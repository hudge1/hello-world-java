pipeline {
    agent {label 'tomcat' }
    stages {
        stage('checkout') {
          steps {
             git branch: 'main', url: 'https://github.com/sudheer76R/java-example.git'
    }
  }

        stage('Test') {
            steps {
               echo 'assuming it is done'
    }
  }

         stage('test') {
             steps {
                  sh 'mvn clean package'
    }
  }

  stage('deploy') {
    steps {
        sh 'sudo cp target/*.war /home/ec2-user/tomcat/webapps/'
        }
  }
  
}
}
